{{- define "main" -}}
{{- $paginator := .Paginator -}}

{{- $title := T .Title -}}
{{- if not $title -}}
{{- $title = .Title -}}
{{- end -}}
<section class="article header"><h1>{{- $title -}}</h1></section>
{{- if .Content -}}
<article class="article markdown-body">
  <!-- "{{.Content}}" pulls from the markdown content of the corresponding _index.md -->
  {{- .Content -}}
</article>
{{- end -}}

{{- if gt $paginator.TotalPages 0 -}}
<ul class="note list">
  {{- range $paginator.Pages -}}
  <li class="fly item">
    <a class="note" href="{{- .RelPermalink -}}">
      <p class="note title">{{- .Title | safeHTML -}}</p>
    </a>
  </li>
  {{- end -}}
</ul>
<style>
  ul.note.list {
    margin-bottom: 100px;
  }
  ul.note.list li.fly.item {
    padding: 20px !important;
    visibility: hidden;
  }
</style>
<script>
  var categories = document.getElementsByClassName('fly item');
  for (category of categories) {
    var randomDelay = (Math.random()*0.5).toFixed(1);
    category.style.animation = `0.4s ease ${randomDelay}s forwards slideInLeft`;
  }
</script>

{{- end -}}
{{- partial "pagination.html" $paginator -}}

{{- end -}}
